<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.AWS.Glacier.InitiateJob</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-AWS-Glacier-InitiateJob.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">amazonka-glacier-0.3.4: Amazon Glacier SDK.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.AWS.Glacier.InitiateJob</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Request</a><ul><li><a href="#g:2">Request constructor</a></li><li><a href="#g:3">Request lenses</a></li></ul></li><li><a href="#g:4">Response</a><ul><li><a href="#g:5">Response constructor</a></li><li><a href="#g:6">Response lenses</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This operation initiates a job of the specified type. In this release, you
 can initiate a job to retrieve either an archive or a vault inventory (a list
 of archives in a vault).</p><p>Retrieving data from Amazon Glacier is a two-step process:</p><p>Initiate a retrieval job.</p><p>After the job completes, download the bytes.</p><p>The retrieval request is executed asynchronously. When you initiate a
 retrieval job, Amazon Glacier creates a job and returns a job ID in the
 response. When Amazon Glacier completes the job, you can get the job output
 (archive or inventory data). For information about getting job output, see <code>GetJobOutput</code> operation.</p><p>The job must complete before you can get its output. To determine when a job
 is complete, you have the following options:</p><p>Use Amazon SNS Notification You can specify an Amazon Simple Notification
 Service (Amazon SNS) topic to which Amazon Glacier can post a notification
 after the job is completed. You can specify an SNS topic per job request. The
 notification is sent only after Amazon Glacier completes the job. In addition
 to specifying an SNS topic per job request, you can configure vault
 notifications for a vault so that job notifications are always sent. For more
 information, see <code>SetVaultNotifications</code>.</p><p>Get job details You can make a <code>DescribeJob</code> request to obtain job status
 information while a job is in progress. However, it is more efficient to use
 an Amazon SNS notification to determine when a job is complete.</p><p>The information you get via notification is same that you get by calling <code>DescribeJob</code>.</p><p>If for a specific event, you add both the notification configuration on the
 vault and also specify an SNS topic in your initiate job request, Amazon
 Glacier sends both notifications. For more information, see <code>SetVaultNotifications</code>.</p><p>An AWS account has full permission to perform all operations (actions).
 However, AWS Identity and Access Management (IAM) users don't have any
 permissions by default. You must grant them explicit permission to perform
 specific actions. For more information, see <a href="http://docs.aws.amazon.com/amazonglacier/latest/dev/using-iam-with-amazon-glacier.html">Access Control Using AWS Identityand Access Management (IAM)</a>.</p><p>About the Vault Inventory</p><p>Amazon Glacier prepares an inventory for each vault periodically, every 24
 hours. When you initiate a job for a vault inventory, Amazon Glacier returns
 the last inventory for the vault. The inventory data you get might be up to a
 day or two days old. Also, the initiate inventory job might take some time to
 complete before you can download the vault inventory. So you do not want to
 retrieve a vault inventory for each vault operation. However, in some
 scenarios, you might find the vault inventory useful. For example, when you
 upload an archive, you can provide an archive description but not an archive
 name. Amazon Glacier provides you a unique archive ID, an opaque string of
 characters. So, you might maintain your own database that maps archive names
 to their corresponding Amazon Glacier assigned archive IDs. You might find
 the vault inventory useful in the event you need to reconcile information in
 your database with the actual vault inventory.</p><p>Range Inventory Retrieval</p><p>You can limit the number of inventory items retrieved by filtering on the
 archive creation date or by setting a limit.</p><p><em>Filtering by Archive Creation Date</em></p><p>You can retrieve inventory items for archives created between <code>StartDate</code> and <code>EndDate</code> by specifying values for these parameters in the InitiateJob request.
 Archives created on or after the <code>StartDate</code> and before the <code>EndDate</code> will be
 returned. If you only provide the <code>StartDate</code> without the <code>EndDate</code>, you will
 retrieve the inventory for all archives created on or after the <code>StartDate</code>. If
 you only provide the <code>EndDate</code> without the <code>StartDate</code>, you will get back the
 inventory for all archives created before the <code>EndDate</code>.</p><p><em>Limiting Inventory Items per Retrieval</em></p><p>You can limit the number of inventory items returned by setting the <code>Limit</code>
 parameter in the InitiateJob request. The inventory job output will contain
 inventory items up to the specified <code>Limit</code>. If there are more inventory items
 available, the result is paginated. After a job is complete you can use the <code>DescribeJob</code> operation to get a marker that you use in a subsequent InitiateJob request.
 The marker will indicate the starting point to retrieve the next set of
 inventory items. You can page through your entire inventory by repeatedly
 making InitiateJob requests with the marker from the previous DescribeJob
 output, until you get a marker from DescribeJob that returns null, indicating
 that there are no more inventory items available.</p><p>You can use the <code>Limit</code> parameter together with the date range parameters.</p><p>About Ranged Archive Retrieval</p><p>You can initiate an archive retrieval for the whole archive or a range of
 the archive. In the case of ranged archive retrieval, you specify a byte
 range to return or the whole archive. The range specified must be megabyte
 (MB) aligned, that is the range start value must be divisible by 1 MB and
 range end value plus 1 must be divisible by 1 MB or equal the end of the
 archive. If the ranged archive retrieval is not megabyte aligned, this
 operation returns a 400 response. Furthermore, to ensure you get checksum
 values for data you download using Get Job Output API, the range must be tree
 hash aligned.</p><p>An AWS account has full permission to perform all operations (actions).
 However, AWS Identity and Access Management (IAM) users don't have any
 permissions by default. You must grant them explicit permission to perform
 specific actions. For more information, see <a href="http://docs.aws.amazon.com/amazonglacier/latest/dev/using-iam-with-amazon-glacier.html">Access Control Using AWS Identityand Access Management (IAM)</a>.</p><p>For conceptual information and the underlying REST API, go to <a href="http://docs.aws.amazon.com/amazonglacier/latest/dev/api-initiate-job-post.html">Initiate a Job</a>
 and <a href="http://docs.aws.amazon.com/amazonglacier/latest/dev/vault-inventory.html">Downloading a Vault Inventory</a></p><p><a href="http://docs.aws.amazon.com/amazonglacier/latest/dev/api-InitiateJob.html">http://docs.aws.amazon.com/amazonglacier/latest/dev/api-InitiateJob.html</a></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:InitiateJob">InitiateJob</a></li><li class="src short"><a href="#v:initiateJob">initiateJob</a> :: Text -&gt; Text -&gt; <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></li><li class="src short"><a href="#v:ijAccountId">ijAccountId</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a> Text</li><li class="src short"><a href="#v:ijJobParameters">ijJobParameters</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Glacier-Types.html#t:JobParameters">JobParameters</a>)</li><li class="src short"><a href="#v:ijVaultName">ijVaultName</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a> Text</li><li class="src short"><span class="keyword">data</span> <a href="#t:InitiateJobResponse">InitiateJobResponse</a></li><li class="src short"><a href="#v:initiateJobResponse">initiateJobResponse</a> :: <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a></li><li class="src short"><a href="#v:ijrJobId">ijrJobId</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> Text)</li><li class="src short"><a href="#v:ijrLocation">ijrLocation</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> Text)</li></ul></div><div id="interface"><h1 id="g:1">Request</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:InitiateJob" class="def">InitiateJob</a></p><div class="subs instances"><p id="control.i:InitiateJob" class="caption collapser" onclick="toggleSection('i:InitiateJob')">Instances</p><div id="section.i:InitiateJob" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Read.html#t:Read">Read</a> <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">AWSRequest <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToQuery <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToPath <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToHeaders <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> Sv <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a> = <a href="Network-AWS-Glacier-Types.html#t:Glacier">Glacier</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> Rs <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a> = <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:2">Request constructor</h2><div class="top"><p class="src"><a name="v:initiateJob" class="def">initiateJob</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Text</td><td class="doc"><p><code><a href="Network-AWS-Glacier-InitiateJob.html#v:ijAccountId">ijAccountId</a></code></p></td></tr><tr><td class="src">-&gt; Text</td><td class="doc"><p><code><a href="Network-AWS-Glacier-InitiateJob.html#v:ijVaultName">ijVaultName</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a></code> constructor.</p><p>The fields accessible through corresponding lenses are:</p><ul><li><code><a href="Network-AWS-Glacier-InitiateJob.html#v:ijAccountId">ijAccountId</a></code> <code>::</code> <code>Text</code></li><li><code><a href="Network-AWS-Glacier-InitiateJob.html#v:ijJobParameters">ijJobParameters</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code><a href="Network-AWS-Glacier-Types.html#t:JobParameters">JobParameters</a></code></li><li><code><a href="Network-AWS-Glacier-InitiateJob.html#v:ijVaultName">ijVaultName</a></code> <code>::</code> <code>Text</code></li></ul></div></div><h2 id="g:3">Request lenses</h2><div class="top"><p class="src"><a name="v:ijAccountId" class="def">ijAccountId</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a> Text</p><div class="doc"><p>The <code>AccountId</code> is the AWS Account ID. You can specify either the AWS Account
 ID or optionally a <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Prelude.html#v:-45-">-</a></code>, in which case Amazon Glacier uses the AWS Account ID
 associated with the credentials used to sign the request. If you specify your
 Account ID, do not include hyphens in it.</p></div></div><div class="top"><p class="src"><a name="v:ijJobParameters" class="def">ijJobParameters</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Glacier-Types.html#t:JobParameters">JobParameters</a>)</p><div class="doc"><p>Provides options for specifying job information.</p></div></div><div class="top"><p class="src"><a name="v:ijVaultName" class="def">ijVaultName</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJob">InitiateJob</a> Text</p><div class="doc"><p>The name of the vault.</p></div></div><h1 id="g:4">Response</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:InitiateJobResponse" class="def">InitiateJobResponse</a></p><div class="subs instances"><p id="control.i:InitiateJobResponse" class="caption collapser" onclick="toggleSection('i:InitiateJobResponse')">Instances</p><div id="section.i:InitiateJobResponse" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Read.html#t:Read">Read</a> <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:5">Response constructor</h2><div class="top"><p class="src"><a name="v:initiateJobResponse" class="def">initiateJobResponse</a> :: <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a></p><div class="doc"><p><code><a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a></code> constructor.</p><p>The fields accessible through corresponding lenses are:</p><ul><li><code><a href="Network-AWS-Glacier-InitiateJob.html#v:ijrJobId">ijrJobId</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code>Text</code></li><li><code><a href="Network-AWS-Glacier-InitiateJob.html#v:ijrLocation">ijrLocation</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code>Text</code></li></ul></div></div><h2 id="g:6">Response lenses</h2><div class="top"><p class="src"><a name="v:ijrJobId" class="def">ijrJobId</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> Text)</p><div class="doc"><p>The ID of the job.</p></div></div><div class="top"><p class="src"><a name="v:ijrLocation" class="def">ijrLocation</a> :: Lens' <a href="Network-AWS-Glacier-InitiateJob.html#t:InitiateJobResponse">InitiateJobResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> Text)</p><div class="doc"><p>The relative URI path of the job.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.0</p></div></body></html>