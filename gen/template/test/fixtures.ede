{% include "_include/license.ede" %}
--
-- Derived from AWS service descriptions, licensed under Apache 2.0.

module {{ moduleName }} where

import Data.Proxy
import Test.AWS.Fixture
import Test.Tasty
{% for import in moduleImports %}
import {{ import.value }}
{% endfor %}

-- Auto-generated: the actual test selection needs to be manually placed into
-- the top-level so that real test data can be incrementally added.
--
-- This commented snippet is what the entire set should look like:

-- fixtures :: TestTree
-- fixtures = testGroup "SQS"
--     [ testGroup "request"
--         {% for op in operations %}{% if op.first %}[{% else %},{% endif %} {{ op.key }}Test $
--             {{ op.value.input.constructor }}
--
--         {% endfor %}  ]

--     , testGroup "response"
--         {% for op in operations %}{% if op.first %}[{% else %},{% endif %} {{ op.key }}ResponseTest $
--             {{ op.value.output.constructor }}
--
--         {% endfor %}  ]
--     ]

-- Requests
{% for op in operations %}

{{ op.key }}Test :: {{ op.value.input.name }} -> TestTree
{{ op.key }}Test = undefined
{% endfor %}

-- Responses
{% for op in operations %}

{{ op.key }}ResponseTest :: {{ op.value.output.name }} -> TestTree
{{ op.key }}ResponseTest = resp
    "{{ op.key }}Response"
    "fixture/{{ op.value.output.name }}"
    (Proxy :: Proxy {{ op.value.input.name }})
{% endfor %}
